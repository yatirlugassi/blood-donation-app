{"ast":null,"code":"import { createClient } from '@supabase/supabase-js';\n\n// Supabase configuration from environment variables\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL || '';\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY || '';\n\n// Create Supabase client\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n// Types for our database\n\n// Blood types functions\nexport const getBloodTypes = async () => {\n  const {\n    data,\n    error\n  } = await supabase.from('blood_types').select('*').order('id');\n  return {\n    data,\n    error\n  };\n};\n\n// Blood compatibility functions\nexport const getBloodCompatibility = async () => {\n  const {\n    data,\n    error\n  } = await supabase.from('blood_compatibility').select('*');\n  return {\n    data,\n    error\n  };\n};\nexport const getCompatibleDonors = async bloodType => {\n  const {\n    data,\n    error\n  } = await supabase.from('blood_compatibility').select('donor_type').eq('recipient_type', bloodType).eq('compatible', true);\n  return {\n    data: data ? data.map(item => item.donor_type) : null,\n    error\n  };\n};\nexport const getCompatibleRecipients = async bloodType => {\n  const {\n    data,\n    error\n  } = await supabase.from('blood_compatibility').select('recipient_type').eq('donor_type', bloodType).eq('compatible', true);\n  return {\n    data: data ? data.map(item => item.recipient_type) : null,\n    error\n  };\n};\n\n// Regional data functions\nexport const getRegionalData = async region => {\n  let query = supabase.from('regional_blood_data').select('*');\n  if (region) {\n    query = query.ilike('region', `%${region}%`);\n  }\n  const {\n    data,\n    error\n  } = await query;\n  return {\n    data,\n    error\n  };\n};\n\n// User profile functions\nexport const getUserProfile = async userId => {\n  const {\n    data,\n    error\n  } = await supabase.from('user_profiles').select('*').eq('id', userId).single();\n  return {\n    data,\n    error\n  };\n};\nexport const createUserProfile = async profile => {\n  const {\n    data,\n    error\n  } = await supabase.from('user_profiles').insert(profile).select().single();\n  return {\n    data,\n    error\n  };\n};\nexport const updateUserProfile = async (userId, updates) => {\n  const {\n    data,\n    error\n  } = await supabase.from('user_profiles').update(updates).eq('id', userId).select().single();\n  return {\n    data,\n    error\n  };\n};\n\n// Quiz functions\nexport const getQuizQuestions = async (limit = 10, category) => {\n  let query = supabase.from('quiz_questions').select('*');\n  if (category) {\n    query = query.eq('category', category);\n  }\n  const {\n    data,\n    error\n  } = await query.limit(limit);\n  return {\n    data,\n    error\n  };\n};\nexport const saveQuizResult = async result => {\n  const {\n    data,\n    error\n  } = await supabase.from('quiz_results').insert(result).select().single();\n  return {\n    data,\n    error\n  };\n};\nexport const getUserQuizResults = async userId => {\n  const {\n    data,\n    error\n  } = await supabase.from('quiz_results').select('*').eq('user_id', userId).order('completed_at', {\n    ascending: false\n  });\n  return {\n    data,\n    error\n  };\n};","map":{"version":3,"names":["createClient","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","supabase","getBloodTypes","data","error","from","select","order","getBloodCompatibility","getCompatibleDonors","bloodType","eq","map","item","donor_type","getCompatibleRecipients","recipient_type","getRegionalData","region","query","ilike","getUserProfile","userId","single","createUserProfile","profile","insert","updateUserProfile","updates","update","getQuizQuestions","limit","category","saveQuizResult","result","getUserQuizResults","ascending"],"sources":["C:/Users/yatir/finalProjectReact/frontend/src/services/supabaseClient.ts"],"sourcesContent":["import { createClient, SupabaseClient, User } from '@supabase/supabase-js';\r\n\r\n// Supabase configuration from environment variables\r\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL || '';\r\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY || '';\r\n\r\n// Create Supabase client\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\n// Types for our database\r\nexport interface BloodType {\r\n  id: number;\r\n  type: string;\r\n  description: string;\r\n}\r\n\r\nexport interface BloodCompatibility {\r\n  id: number;\r\n  donor_type: string;\r\n  recipient_type: string;\r\n  compatible: boolean;\r\n}\r\n\r\nexport interface RegionalData {\r\n  id: number;\r\n  region: string;\r\n  population: number;\r\n  a_positive: number;\r\n  a_negative: number;\r\n  b_positive: number;\r\n  b_negative: number;\r\n  ab_positive: number;\r\n  ab_negative: number;\r\n  o_positive: number;\r\n  o_negative: number;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface UserProfile {\r\n  id: string;\r\n  blood_type: string | null;\r\n  region: string | null;\r\n  donation_count: number;\r\n  last_donation_date: string | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface QuizQuestion {\r\n  id: number;\r\n  question: string;\r\n  options: Record<string, string>;\r\n  correct_answer: string;\r\n  explanation: string;\r\n  category: string;\r\n  difficulty: string;\r\n}\r\n\r\nexport interface QuizResult {\r\n  id: number;\r\n  user_id: string;\r\n  score: number;\r\n  max_score: number;\r\n  completed_at: string;\r\n}\r\n\r\n// Blood types functions\r\nexport const getBloodTypes = async (): Promise<{ data: BloodType[] | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('blood_types')\r\n    .select('*')\r\n    .order('id');\r\n  \r\n  return { data, error };\r\n};\r\n\r\n// Blood compatibility functions\r\nexport const getBloodCompatibility = async (): Promise<{ data: BloodCompatibility[] | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('blood_compatibility')\r\n    .select('*');\r\n  \r\n  return { data, error };\r\n};\r\n\r\nexport const getCompatibleDonors = async (bloodType: string): Promise<{ data: string[] | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('blood_compatibility')\r\n    .select('donor_type')\r\n    .eq('recipient_type', bloodType)\r\n    .eq('compatible', true);\r\n  \r\n  return { \r\n    data: data ? data.map(item => item.donor_type) : null, \r\n    error \r\n  };\r\n};\r\n\r\nexport const getCompatibleRecipients = async (bloodType: string): Promise<{ data: string[] | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('blood_compatibility')\r\n    .select('recipient_type')\r\n    .eq('donor_type', bloodType)\r\n    .eq('compatible', true);\r\n  \r\n  return { \r\n    data: data ? data.map(item => item.recipient_type) : null, \r\n    error \r\n  };\r\n};\r\n\r\n// Regional data functions\r\nexport const getRegionalData = async (region?: string): Promise<{ data: RegionalData[] | null; error: any }> => {\r\n  let query = supabase.from('regional_blood_data').select('*');\r\n  \r\n  if (region) {\r\n    query = query.ilike('region', `%${region}%`);\r\n  }\r\n  \r\n  const { data, error } = await query;\r\n  return { data, error };\r\n};\r\n\r\n// User profile functions\r\nexport const getUserProfile = async (userId: string): Promise<{ data: UserProfile | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('user_profiles')\r\n    .select('*')\r\n    .eq('id', userId)\r\n    .single();\r\n  \r\n  return { data, error };\r\n};\r\n\r\nexport const createUserProfile = async (profile: Partial<UserProfile>): Promise<{ data: UserProfile | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('user_profiles')\r\n    .insert(profile)\r\n    .select()\r\n    .single();\r\n  \r\n  return { data, error };\r\n};\r\n\r\nexport const updateUserProfile = async (userId: string, updates: Partial<UserProfile>): Promise<{ data: UserProfile | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('user_profiles')\r\n    .update(updates)\r\n    .eq('id', userId)\r\n    .select()\r\n    .single();\r\n  \r\n  return { data, error };\r\n};\r\n\r\n// Quiz functions\r\nexport const getQuizQuestions = async (limit = 10, category?: string): Promise<{ data: QuizQuestion[] | null; error: any }> => {\r\n  let query = supabase.from('quiz_questions').select('*');\r\n  \r\n  if (category) {\r\n    query = query.eq('category', category);\r\n  }\r\n  \r\n  const { data, error } = await query.limit(limit);\r\n  return { data, error };\r\n};\r\n\r\nexport const saveQuizResult = async (result: Omit<QuizResult, 'id' | 'completed_at'>): Promise<{ data: QuizResult | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('quiz_results')\r\n    .insert(result)\r\n    .select()\r\n    .single();\r\n  \r\n  return { data, error };\r\n};\r\n\r\nexport const getUserQuizResults = async (userId: string): Promise<{ data: QuizResult[] | null; error: any }> => {\r\n  const { data, error } = await supabase\r\n    .from('quiz_results')\r\n    .select('*')\r\n    .eq('user_id', userId)\r\n    .order('completed_at', { ascending: false });\r\n  \r\n  return { data, error };\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}